<div class="flex" *ngIf="selectedProject$ | async as project">
  <div class="col-5 surface-100 sidebar p-0 pt-1">
    <div class="flex flex-row align-items-center border-bottom-1 py-2 px-3 justify-content-between border-gray-300">
      <span class="text-base">{{ project.name }}</span>
      <div>
        <span class="p-buttonset">
          <button pButton type="button" label="Import" class="p-button-outlined"></button>
          <button pButton type="button" label="Export" class="p-button-outlined"></button>
        </span>
      </div>
    </div>
    <div class="p-3">
      <ay-collection-panel [name]="collection.name" *ngFor="let collection of collections$ | async">
        <ay-endpoint-link
          *ngFor="let endpoint of collection.endpoints"
          [method]="endpoint.method"
          [path]="endpoint.path"
          (selectEndpoint)="onEndpointSelect(endpoint.id)"
        ></ay-endpoint-link>
      </ay-collection-panel>
    </div>
  </div>
  <div class="col flex flex-column p-0 pt-1">
    <ng-container *ngIf="endpoint$ | async as endpoint">
      <div class="flex flex-row align-items-center border-bottom-1 py-2 px-3 justify-content-between border-gray-300">
        <span>DETAILS</span>
        <button pButton type="button" label="Update" (click)="updateEndpoint()"></button>
      </div>
      <ay-endpoint-options
        *ngIf="availableStatusCodes$ | async as availableStatusCodes"
        [availableStatusCodes]="availableStatusCodes"
        [activeStatusCode]="activeStatusCode$ | async"
        [endpoint]="endpoint"
        [configurationForm]="configurationForm"
      ></ay-endpoint-options>
      <ay-response-list
        *ngIf="availableStatusCodes$ | async as availableStatusCodes"
        [availableStatusCodes]="availableStatusCodes"
        [activeStatusCode]="activeStatusCode$ | async"
        [responseArrayForm]="responseArrayForm"
        (viewResponseBody)="onViewResponseBody($event)"
      ></ay-response-list>
      <div style="height: 600px">
        <ay-editor
          style="height: 100%"
          [content]="selectedResponseBody || ''"
          (contentChange)="onUpdateResponse($event)"
        ></ay-editor>
      </div>
    </ng-container>
  </div>
</div>
